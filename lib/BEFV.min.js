/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"constants\": () => (/* binding */ constants)\n/* harmony export */ });\nconst constants = Object.create({});\r\nconstants.VERSION = '0.0.1';\r\nconstants.VALIDATOR_TYPES = {\r\n    phone: 'phone',\r\n    email: 'email',\r\n    required: 'required',\r\n    length: 'length',\r\n};\r\nconstants.DEFAUTL_VALUES = {\r\n    VALIDATOR: {\r\n        element: undefined,\r\n        options: {\r\n            default: false,\r\n        },\r\n        subscriptions: {},\r\n        handlers: {},\r\n    },\r\n};\r\nconstants.DATASET = {\r\n    VALID: \"data-be-valid\"\r\n};\r\nconstants.ERROR_MESSAGE_CLASS_NAME = 'be-error-message';\r\nconstants.SUCCESS_MESSAGE_CLASS_NAME = 'be-success-message';\r\n\n\n//# sourceURL=webpack://be-form-validator/./src/constants.ts?");

/***/ }),

/***/ "./src/core/BEFormValidatorCreate.ts":
/*!*******************************************!*\
  !*** ./src/core/BEFormValidatorCreate.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BEFormValidatorCreate\": () => (/* binding */ BEFormValidatorCreate)\n/* harmony export */ });\n/* harmony import */ var _components_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/Exception */ \"./src/core/components/Exception.ts\");\n/* harmony import */ var _ValidateElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ValidateElement */ \"./src/core/ValidateElement.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n\r\n\r\n\r\nclass BEFormValidatorCreate {\r\n    __initialInputs;\r\n    inputs = [];\r\n    form = _constants__WEBPACK_IMPORTED_MODULE_2__.constants.DEFAUTL_VALUES.VALIDATOR;\r\n    isFormValid = false;\r\n    __isInit = false;\r\n    constructor(form, validateElements) {\r\n        this.__initialInputs = validateElements;\r\n        this.form = Object.assign(this.form, form);\r\n        Object.defineProperty(this.form.element, '__BEFV', {\r\n            value: this\r\n        });\r\n    }\r\n    formSubmitHandler(e) {\r\n        e.preventDefault();\r\n        if (this.inputs.length) {\r\n            this.isFormValid = true;\r\n            for (const input of this.inputs) {\r\n                if (!input.isInit) {\r\n                    input.init();\r\n                }\r\n                input.validate();\r\n                if (!input.isValid) {\r\n                    if (this.isFormValid) {\r\n                        this.isFormValid = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this.isFormValid) {\r\n            this.form.element.setAttribute(_constants__WEBPACK_IMPORTED_MODULE_2__.constants.DATASET.VALID, '1');\r\n            if (this.form.subscriptions?.valid) {\r\n                this.form.subscriptions.valid(this);\r\n            }\r\n            if (this.form.options?.default) {\r\n                this.form.element.submit();\r\n            }\r\n            if (this.form.options.hasOwnProperty('submit') && this.form.options.submit instanceof Function) {\r\n                this.form.handlers.submit(e);\r\n            }\r\n        }\r\n        else {\r\n            this.form.element.setAttribute(_constants__WEBPACK_IMPORTED_MODULE_2__.constants.DATASET.VALID, '0');\r\n            if (this.form.subscriptions?.invalid) {\r\n                this.form.subscriptions.invalid(this);\r\n            }\r\n        }\r\n    }\r\n    init() {\r\n        if (this.__isInit) {\r\n            if (this.inputs.length) {\r\n                for (const input of this.inputs) {\r\n                    input.destroy();\r\n                }\r\n                this.inputs = [];\r\n            }\r\n        }\r\n        try {\r\n            this.validatorOptionsChecker();\r\n            this.form.element.setAttribute('data-be-valid', '0');\r\n            for (let i = 0; i !== this.__initialInputs.length; i++) {\r\n                let newValidateElement = new _ValidateElement__WEBPACK_IMPORTED_MODULE_1__.ValidateElement(this.__initialInputs[i], this.form);\r\n                if (newValidateElement.isCorrect()) {\r\n                    this.inputs.push(newValidateElement);\r\n                }\r\n                else {\r\n                    newValidateElement.destroy(i);\r\n                    newValidateElement = undefined;\r\n                }\r\n            }\r\n            if (this.inputs.length) {\r\n                if (!this.__isInit) {\r\n                    this.form.element.addEventListener('submit', this.formSubmitHandler.bind(this), true);\r\n                }\r\n            }\r\n            else {\r\n                _components_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw('All of inputs is incorrect for creating a ValidateElement! Please check your field in validateElementObject');\r\n                return;\r\n            }\r\n            this.__isInit = true;\r\n        }\r\n        catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n    validatorOptionsChecker() {\r\n        if (!this.form?.element) {\r\n            throw _components_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw('{ form.element } is undefined');\r\n        }\r\n        if (!(this.form.element instanceof HTMLFormElement)) {\r\n            throw _components_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw('{ form.element } is not equal to type HTMLFormElement');\r\n        }\r\n        if (!this.__initialInputs) {\r\n            throw _components_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw('{ validateElements } is undefined!');\r\n        }\r\n        if (!(this.__initialInputs instanceof Array)) {\r\n            throw _components_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw('{ validateElements } is not equal to type Array!');\r\n        }\r\n        if (!this.__initialInputs.length) {\r\n            throw _components_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw('{ validateElements } is empty!');\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://be-form-validator/./src/core/BEFormValidatorCreate.ts?");

/***/ }),

/***/ "./src/core/ValidateElement.ts":
/*!*************************************!*\
  !*** ./src/core/ValidateElement.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ValidateElement\": () => (/* binding */ ValidateElement)\n/* harmony export */ });\n/* harmony import */ var _components_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/Exception */ \"./src/core/components/Exception.ts\");\n/* harmony import */ var _components_InputMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/InputMessage */ \"./src/core/components/InputMessage.ts\");\n\r\n\r\nclass ValidateElement {\r\n    opt;\r\n    validator;\r\n    isValid = false;\r\n    isInit = false;\r\n    messages;\r\n    static __defaultOpt = {\r\n        onlyOnSubmit: false,\r\n        rules: {},\r\n    };\r\n    constructor(opt = ValidateElement.__defaultOpt, validator) {\r\n        this.opt = opt;\r\n        this.validator = validator;\r\n    }\r\n    validate() {\r\n        this.isValid = false;\r\n        const value = this.opt.element?.value;\r\n        const rules = this.opt.rules;\r\n        const message = this.opt.message;\r\n        const InputMessageOpts = {\r\n            location: message.location || undefined,\r\n            noAdjacent: message.noAdjacent || undefined,\r\n        };\r\n        if (!this.messages) {\r\n            this.messages = new _components_InputMessage__WEBPACK_IMPORTED_MODULE_1__.InputMessage(' ', this.opt.element, InputMessageOpts);\r\n        }\r\n        if (rules.hasOwnProperty('required') && rules.required) {\r\n            const valCond = !!value;\r\n            if (message && message.required) {\r\n                this.messages.remove();\r\n                this.messages.changeStatus(valCond, message?.required[valCond ? 'success' : 'error']);\r\n                this.messages.append();\r\n            }\r\n            if (!valCond)\r\n                return;\r\n        }\r\n        if (rules.hasOwnProperty('rule') && rules.rule !== undefined) {\r\n            const rule = rules.rule;\r\n            let res;\r\n            switch (rule.constructor) {\r\n                case RegExp: {\r\n                    if (rule.test(value.toString())) {\r\n                        res = true;\r\n                        break;\r\n                    }\r\n                    res = false;\r\n                    break;\r\n                }\r\n                case Function: {\r\n                    if (rule.call(this, value, this.validator)) {\r\n                        res = true;\r\n                        break;\r\n                    }\r\n                    res = false;\r\n                    break;\r\n                }\r\n                default: {\r\n                    ValidateElement.Error('rules: { rule: ... } for this input is not valid. Please use valid RegExp like => /(.*)/g without quotes and dbl quotes or use function \\n Element =>', this.opt.element.className);\r\n                }\r\n            }\r\n            if (message?.rule.hasOwnProperty('success')) {\r\n                this.messages.changeStatus(res, message.rule['success']);\r\n            }\r\n            if (message?.rule.hasOwnProperty('error')) {\r\n                this.messages.changeStatus(res, message.rule['error']);\r\n            }\r\n            if (!res)\r\n                return;\r\n        }\r\n        this.isValid = true;\r\n    }\r\n    elementHandler() {\r\n        /*\r\n        *  TODO: this.opt.border если указан то добавлять инпуту калсс ерора или саксес из рула или если нет рула брать рекваред\r\n        * */\r\n    }\r\n    init() {\r\n        if (!this.isInit && !this.opt.onlyOnSubmit) {\r\n            this.opt.element.addEventListener('input', this.elementHandler.bind(this));\r\n        }\r\n        this.isInit = true;\r\n    }\r\n    isCorrect() {\r\n        if (!this.opt.element) {\r\n            ValidateElement.Error('{ element } is undefined!');\r\n            return false;\r\n        }\r\n        if (!this.opt.hasOwnProperty('rules')) {\r\n            ValidateElement.Error('{ rules } is not defined!');\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    destroy(idx) {\r\n        if (idx) {\r\n            ValidateElement.Error('object are destroyed for element [index => ' + idx + '], element is undefined!');\r\n        }\r\n        if (this.isInit) {\r\n            this.opt.element.removeEventListener('input', this.elementHandler.bind(this));\r\n            if (this.messages && this.messages.remove) {\r\n                this.messages.remove();\r\n                this.messages = undefined;\r\n            }\r\n        }\r\n    }\r\n    static Error(..._s) {\r\n        const str = _s.reduce((acc, prev) => acc + prev);\r\n        return _components_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw(str, 'ValidateElement');\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://be-form-validator/./src/core/ValidateElement.ts?");

/***/ }),

/***/ "./src/core/components/Exception.ts":
/*!******************************************!*\
  !*** ./src/core/components/Exception.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Exception\": () => (/* binding */ Exception)\n/* harmony export */ });\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index */ \"./src/index.ts\");\n\r\nclass Exception {\r\n    static throw(s, _class = 'BEFormValidator') {\r\n        return _index__WEBPACK_IMPORTED_MODULE_0__.BEFormValidator.__utils.errorConstructor(_class)(s);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://be-form-validator/./src/core/components/Exception.ts?");

/***/ }),

/***/ "./src/core/components/InputMessage.ts":
/*!*********************************************!*\
  !*** ./src/core/components/InputMessage.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputMessage\": () => (/* binding */ InputMessage)\n/* harmony export */ });\n/* harmony import */ var _Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Exception */ \"./src/core/components/Exception.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants */ \"./src/constants.ts\");\n\r\n\r\nclass InputMessage {\r\n    text;\r\n    input;\r\n    opt;\r\n    messageHTML;\r\n    constructor(text, input, opt = {\r\n        success: false\r\n    }) {\r\n        this.text = text;\r\n        this.input = input;\r\n        this.opt = opt;\r\n        if (!this.text.length) {\r\n            throw _Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw('{ text } for error is empty', 'InputMessage');\r\n        }\r\n        if (!this.input) {\r\n            throw _Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw('{ input } is undefined', 'InputMessage');\r\n        }\r\n        this.messageHTML = InputMessage.createWrapper(this.text, opt.success);\r\n    }\r\n    static createWrapper(text, status) {\r\n        const wrapper = document.createElement('span');\r\n        wrapper.classList.add(!status ? _constants__WEBPACK_IMPORTED_MODULE_1__.constants.ERROR_MESSAGE_CLASS_NAME : _constants__WEBPACK_IMPORTED_MODULE_1__.constants.SUCCESS_MESSAGE_CLASS_NAME);\r\n        wrapper.textContent = text;\r\n        return wrapper;\r\n    }\r\n    append() {\r\n        if (!this.opt.noAdjacent) {\r\n            this.input.insertAdjacentElement('afterend', this.messageHTML);\r\n        }\r\n        else {\r\n            if (!this.opt.location) {\r\n                throw _Exception__WEBPACK_IMPORTED_MODULE_0__.Exception.throw('{ messages.location } is undefined', 'InputMessage');\r\n            }\r\n            else {\r\n                this.opt.location.appendChild(this.messageHTML);\r\n            }\r\n        }\r\n    }\r\n    changeStatus(status, text = this.text) {\r\n        this.messageHTML.className = '';\r\n        this.messageHTML.classList.add(!status ? _constants__WEBPACK_IMPORTED_MODULE_1__.constants.ERROR_MESSAGE_CLASS_NAME : _constants__WEBPACK_IMPORTED_MODULE_1__.constants.SUCCESS_MESSAGE_CLASS_NAME);\r\n        this.messageHTML.innerText = text;\r\n    }\r\n    remove() {\r\n        this.messageHTML.remove();\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://be-form-validator/./src/core/components/InputMessage.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BEFormValidator\": () => (/* binding */ BEFormValidator)\n/* harmony export */ });\n/* harmony import */ var _core_BEFormValidatorCreate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/BEFormValidatorCreate */ \"./src/core/BEFormValidatorCreate.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\r\n\r\n\r\nlet BEFormValidator = Object.create({});\r\nclass BEFormValidatorModule {\r\n    static load() {\r\n        Object.defineProperty(BEFormValidator, '__constants', {\r\n            value: _constants__WEBPACK_IMPORTED_MODULE_1__.constants\r\n        });\r\n        Object.defineProperty(BEFormValidator, '__utils', {\r\n            value: _utils__WEBPACK_IMPORTED_MODULE_2__.utils\r\n        });\r\n        Object.defineProperty(BEFormValidator, 'Create', {\r\n            value: _core_BEFormValidatorCreate__WEBPACK_IMPORTED_MODULE_0__.BEFormValidatorCreate\r\n        });\r\n    }\r\n    static afterLoad() {\r\n        Object.freeze(BEFormValidator.__constants);\r\n        Object.freeze(BEFormValidator.__utils);\r\n        window.BEFormValidator = BEFormValidator;\r\n    }\r\n}\r\nfunction bootstrap() {\r\n    BEFormValidatorModule.load();\r\n    BEFormValidatorModule.afterLoad();\r\n}\r\nbootstrap();\r\n\n\n//# sourceURL=webpack://be-form-validator/./src/index.ts?");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"utils\": () => (/* binding */ utils)\n/* harmony export */ });\nconst utils = Object.create({});\r\nutils.errorConstructor = (name) => {\r\n    const _name = `\\n\\t[${name}]:`;\r\n    return (text) => {\r\n        return new Error(_name + ' ' + text + '\\n');\r\n    };\r\n};\r\n\n\n//# sourceURL=webpack://be-form-validator/./src/utils.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;