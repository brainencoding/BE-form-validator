(()=>{"use strict";var e={754:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.constants=void 0,t.constants=Object.create({}),t.constants.VERSION="1.3.8",t.constants.PACKAGE_NAME_IN_FORM="__BEFV",t.constants.VALIDATOR_TYPES={phone:"phone",email:"email",required:"required",length:"length"},t.constants.DEFAUTL_VALUES={VALIDATOR:{element:void 0,options:{default:!1},subscriptions:{},handlers:{}},VALIDATION_ELEMENT:{onlyOnSubmit:!1,subscriptions:{valid:function(){},invalid:function(){}},handlers:{input:function(){}}}},t.constants.DATASET={VALID:"data-be-valid"},t.constants.ERROR_MESSAGE_CLASS_NAME="be-error-message",t.constants.SUCCESS_MESSAGE_CLASS_NAME="be-success-message"},616:(e,t,i)=>{function n(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.BEFormValidatorCreate=void 0;var a=i(594),l=i(394),u=i(754),c=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"__initialInputs",void 0),o(this,"inputs",[]),o(this,"form",u.constants.DEFAUTL_VALUES.VALIDATOR),o(this,"isFormValid",!1),o(this,"__isInit",!1),this.__initialInputs=i,this.form=Object.assign(this.form,t),Object.defineProperty(this.form.element,u.constants.PACKAGE_NAME_IN_FORM,{value:this})}var t,i;return t=e,(i=[{key:"formSubmitHandler",value:function(e){if(e.preventDefault(),this.inputs.length){this.isFormValid=!0;var t,i=n(this.inputs);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.isInit||r.init(),r.validate(),r.isValid||this.isFormValid&&(this.isFormValid=!1)}}catch(e){i.e(e)}finally{i.f()}}var s,o,a;this.isFormValid?(this.form.element.setAttribute(u.constants.DATASET.VALID,"1"),null!==(s=this.form.subscriptions)&&void 0!==s&&s.valid&&this.form.subscriptions.valid(this),null!==(o=this.form.options)&&void 0!==o&&o.default&&this.form.element.submit(),this.form.options.hasOwnProperty("submit")&&this.form.options.submit instanceof Function&&this.form.handlers.submit(e)):(this.form.element.setAttribute(u.constants.DATASET.VALID,"0"),null!==(a=this.form.subscriptions)&&void 0!==a&&a.invalid&&this.form.subscriptions.invalid(this))}},{key:"init",value:function(){if(this.__isInit&&this.inputs.length){var e,t=n(this.inputs);try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}this.inputs=[]}try{this.validatorOptionsChecker(),this.form.element.setAttribute(u.constants.DATASET.VALID,"0");for(var i=0;i!==this.__initialInputs.length;i++){var r=new l.ValidateElement(this.__initialInputs[i],this.form);r.isCorrect()?this.inputs.push(r):(r.destroy(i),r=void 0)}if(!this.inputs.length)return void a.Exception.throw("All of inputs is incorrect for creating a ValidateElement! Please check your field in validateElementObject");this.__isInit||this.form.element.addEventListener("submit",this.formSubmitHandler.bind(this),!0),this.__isInit=!0}catch(e){console.error(e)}}},{key:"validatorOptionsChecker",value:function(){var e;if(null===(e=this.form)||void 0===e||!e.element)throw a.Exception.throw("{ form.element } is undefined");if(!(this.form.element instanceof HTMLFormElement))throw a.Exception.throw("{ form.element } is not equal to type HTMLFormElement");if(!this.__initialInputs)throw a.Exception.throw("{ validateElements } is undefined!");if(!(this.__initialInputs instanceof Array))throw a.Exception.throw("{ validateElements } is not equal to type Array!");if(!this.__initialInputs.length)throw a.Exception.throw("{ validateElements } is empty!")}}])&&s(t.prototype,i),e}();t.BEFormValidatorCreate=c},949:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultRules=void 0,t.DefaultRules=Object.create({}),t.DefaultRules.phone={},t.DefaultRules.phone.ru=/^((\+7|7|8)+([0-9]){10})$/gm,t.DefaultRules.email=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/gm,t.DefaultRules.number=/^[\+\-]?\d*\.?\d+(?:[Ee][\+\-]?\d+)?$/,t.DefaultRules.creditCard={Mastercard:/^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$/,VisaMasterCard:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$/,VisaCard:/^4[0-9]{12}(?:[0-9]{3})?$/,UnionPayCard:/^(62[0-9]{14,17})$/,JCBCard:/^(?:2131|1800|35\d{3})\d{11}$/,MaestroCard:/^(5018|5020|5038|6304|6759|6761|6763)[0-9]{8,15}$/,AmericanExpress:/^[34|37][0-9]{14}$/}},394:(e,t,i)=>{function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateElement=void 0;var s=i(594),o=i(951),a=i(754),l=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"opt",void 0),r(this,"validator",void 0),r(this,"isValid",!1),r(this,"isInit",!1),r(this,"messages",void 0),this.opt=t,this.validator=i,this.opt=Object.assign(this.opt,a.constants.DEFAUTL_VALUES.VALIDATION_ELEMENT)}var t,i,l;return t=e,l=[{key:"Error",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.reduce((function(e,t){return e+t}));return s.Exception.throw(n,"ValidateElement")}}],(i=[{key:"validate",value:function(){var t,i=this;this.isValid=!1;var n=null===(t=this.opt.element)||void 0===t?void 0:t.value,r=this.opt.rules,s=this.opt.message,a={location:s.location||void 0,noAdjacent:s.noAdjacent||void 0,border:s.border||!1};if(this.messages||(this.messages=new o.InputMessage(" ",this.opt.element,a)),r.hasOwnProperty("required")&&r.required){var l=!!n;if(s&&s.required&&(this.messages.remove(),this.messages.changeStatus(l,null==s?void 0:s.required[l?"success":"error"]),this.messages.append()),!l)return void this.opt.subscriptions.invalid()}if(r.hasOwnProperty("rule")&&void 0!==r.rule){var u=r.rule,c=!1,d=function(t){switch(t.constructor){case RegExp:if(t.test(n.toString())){c=!0;break}break;case Function:if(t.call(i,i.opt.element,i.validator)){c=!0;break}break;default:e.Error("rules: { rule: ... } for this input is not valid. Please use valid RegExp like => /(.*)/g without quotes and dbl quotes or use function \n Element =>",i.opt.element.className)}};switch(u.constructor){case Array:var f=u;f.length?f.map((function(e){return d(e)})):e.Error("rule of array [] is empty.",this.opt.element.className);break;default:d(u)}if(this.messages.remove(),this.messages.changeStatus(c,c?c&&s.rule.success||"":s.rule.error||""),this.messages.append(),!c)return void this.opt.subscriptions.invalid()}this.opt.subscriptions.valid(this),this.isValid=!0}},{key:"elementHandler",value:function(e){this.opt.handlers.input(e),this.validate()}},{key:"init",value:function(){this.isInit||this.opt.onlyOnSubmit||this.opt.element.addEventListener("input",this.elementHandler.bind(this)),this.isInit=!0}},{key:"isCorrect",value:function(){return this.opt.element?!!this.opt.hasOwnProperty("rules")||(e.Error("{ rules } is not defined!"),!1):(e.Error("{ element } is undefined!"),!1)}},{key:"destroy",value:function(t){t&&e.Error("object are destroyed for element [index => "+t+"], element is undefined!"),this.isInit&&(this.opt.element.removeEventListener("input",this.elementHandler.bind(this)),this.messages&&this.messages.remove&&(this.messages.remove(),this.messages=void 0))}}])&&n(t.prototype,i),l&&n(t,l),e}();t.ValidateElement=l},594:(e,t,i)=>{function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var r=i(820),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,i=[{key:"throw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BEFormValidator";return r.BEFormValidator.__utils.errorConstructor(t)(e)}}],null&&n(t.prototype,null),i&&n(t,i),e}();t.Exception=s},951:(e,t,i)=>{function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.InputMessage=void 0;var o=i(594),a=i(754),l=function(){function e(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{success:!1};if(n(this,e),s(this,"text",void 0),s(this,"input",void 0),s(this,"opt",void 0),s(this,"messageHTML",void 0),this.text=t,this.input=i,this.opt=r,!this.text.length)throw o.Exception.throw("{ text } for error is empty","InputMessage");if(!this.input)throw o.Exception.throw("{ input } is undefined","InputMessage");this.messageHTML=e.createWrapper(this.text,r.success)}var t,i,l;return t=e,l=[{key:"createWrapper",value:function(e,t){var i=document.createElement("span");return i.classList.add(t?a.constants.SUCCESS_MESSAGE_CLASS_NAME:a.constants.ERROR_MESSAGE_CLASS_NAME),i.textContent=e,i}}],(i=[{key:"append",value:function(){if(this.opt.noAdjacent){if(!this.opt.location)throw o.Exception.throw("{ messages.location } is undefined","InputMessage");this.opt.location.appendChild(this.messageHTML)}else this.input.insertAdjacentElement("afterend",this.messageHTML)}},{key:"changeStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text,i=e?a.constants.SUCCESS_MESSAGE_CLASS_NAME:a.constants.ERROR_MESSAGE_CLASS_NAME;this.messageHTML.className="",this.messageHTML.classList.add(i),this.opt.hasOwnProperty("border")&&this.opt.border&&this.input.classList.add(i+"-input"),this.messageHTML.innerText=t}},{key:"remove",value:function(){this.messageHTML.remove()}}])&&r(t.prototype,i),l&&r(t,l),e}();t.InputMessage=l},820:(e,t,i)=>{function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.BEFormValidator=void 0;var r=i(616),s=i(754),o=i(987),a=i(949);t.BEFormValidator=Object.create({});var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var i,l;return i=e,l=[{key:"load",value:function(){Object.defineProperty(t.BEFormValidator,"__constants",{value:s.constants}),Object.defineProperty(t.BEFormValidator,"__utils",{value:o.utils}),Object.defineProperty(t.BEFormValidator,"DefaultRules",{value:a.DefaultRules}),Object.defineProperty(t.BEFormValidator,"Create",{value:r.BEFormValidatorCreate})}},{key:"afterLoad",value:function(){Object.freeze(t.BEFormValidator.__constants),Object.freeze(t.BEFormValidator.__utils),window.BEFormValidator=t.BEFormValidator}}],null&&n(i.prototype,null),l&&n(i,l),e}();l.load(),l.afterLoad()},987:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.utils=void 0,t.utils=Object.create({}),t.utils.errorConstructor=function(e){var t="\n\t[".concat(e,"]:");return function(e){return new Error(t+" "+e+"\n")}}}},t={};!function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}(820)})();
